INFO: spot_self_diagnosis: Starting controller: python3 -u spot_self_diagnosis.py
INFO: drone_circular_controller: Starting controller: python3 -u drone_circular_controller.py --radius=3.5 --height=3.0 --period=25.0 --center-def=SPOT
[drone_new] camera device found: camera
[drone_new] init session=drone_20260107_161952 timestep=16ms
[drone_new] expected={'FL': 'BURIED', 'FR': 'MALFUNCTION', 'RL': 'NONE', 'RR': 'TRAPPED'}
[spot_new] init session=spot_20260107_161952 timestep=16ms
[spot_new] env FL=BURIED FR=MALFUNCTION RL=NONE RR=TRAPPED
[spot_new] ===== FL start =====
[spot_new] FL trial 1/6 dir=+ joint=knee env=BURIED
[drone_new] start FL trial 1/6 dir=+
[spot_new] FL trial 1/6 done self_can_raw=0.510
[spot_new] FL trial 2/6 dir=- joint=knee env=BURIED
[drone_new] done  FL trial 1/6 frames=24 spot_raw=0.510
[drone_new] progress FL 1/6
[drone_new] start FL trial 2/6 dir=-
[spot_new] FL trial 2/6 done self_can_raw=0.510
[spot_new] FL trial 3/6 dir=+ joint=hip env=BURIED
[drone_new] done  FL trial 2/6 frames=24 spot_raw=0.510
[drone_new] progress FL 2/6
[drone_new] start FL trial 3/6 dir=+
[spot_new] FL trial 3/6 done self_can_raw=0.483
[spot_new] FL trial 4/6 dir=- joint=hip env=BURIED
[drone_new] done  FL trial 3/6 frames=24 spot_raw=0.483
[drone_new] progress FL 3/6
[drone_new] start FL trial 4/6 dir=-
[spot_new] FL trial 4/6 done self_can_raw=0.515
[spot_new] FL trial 5/6 dir=+ joint=shoulder env=BURIED
[drone_new] done  FL trial 4/6 frames=24 spot_raw=0.515
[drone_new] progress FL 4/6
[drone_new] start FL trial 5/6 dir=+
[spot_new] FL trial 5/6 done self_can_raw=0.510
[spot_new] FL trial 6/6 dir=- joint=shoulder env=BURIED
[drone_new] done  FL trial 5/6 frames=24 spot_raw=0.510
[drone_new] progress FL 5/6
[drone_new] start FL trial 6/6 dir=-
[spot_new] FL trial 6/6 done self_can_raw=0.657
[spot_new] ===== FR start =====
[spot_new] FR trial 1/6 dir=+ joint=knee env=MALFUNCTION
llama_context: n_ctx_per_seq (4096) < n_ctx_train (32768) -- the full capacity of the model will not be utilized
[qwen] start session=drone_20260107_161952 leg=FL trial=6
[qwen] infer start leg=FL spot_can=0.6140853040308296 drone_can=0.0009673740308209371
[qwen] model loading: /home/kk21053/.cache/huggingface/hub/models--bartowski--Qwen2.5-3B-Instruct-GGUF/snapshots/f302c64a2269a69fb27b2f9473b362f5bb8e78d8/Qwen2.5-3B-Instruct-IQ4_XS.gguf
[qwen] model loaded
[llm] Qwen output parse failed; using fallback
[qwen] done session=drone_20260107_161952 leg=FL (26.1s)
[drone_new] done  FL trial 6/6 frames=24 spot_raw=0.657
[drone_new] progress FL 6/6
[drone_new] start FR trial 1/6 dir=+
[spot_new] FR trial 1/6 done self_can_raw=0.000
[spot_new] MALFUNCTION_CHECK leg=FR trial=1 joint=knee cmd_delta_deg=4.000 actual_delta_deg=0.001
[spot_new] FR trial 2/6 dir=- joint=knee env=MALFUNCTION
[drone_new] done  FR trial 1/6 frames=24 spot_raw=0.000
[drone_new] progress FR 1/6
[drone_new] start FR trial 2/6 dir=-
[spot_new] FR trial 2/6 done self_can_raw=0.000
[spot_new] MALFUNCTION_CHECK leg=FR trial=2 joint=knee cmd_delta_deg=-4.000 actual_delta_deg=0.001
[spot_new] FR trial 3/6 dir=+ joint=hip env=MALFUNCTION
[drone_new] done  FR trial 2/6 frames=24 spot_raw=0.000
[drone_new] progress FR 2/6
[drone_new] start FR trial 3/6 dir=+
[spot_new] FR trial 3/6 done self_can_raw=0.000
[spot_new] MALFUNCTION_CHECK leg=FR trial=3 joint=hip cmd_delta_deg=4.000 actual_delta_deg=0.000
[spot_new] FR trial 4/6 dir=- joint=hip env=MALFUNCTION
[drone_new] done  FR trial 3/6 frames=24 spot_raw=0.000
[drone_new] progress FR 3/6
[drone_new] start FR trial 4/6 dir=-
[spot_new] FR trial 4/6 done self_can_raw=0.000
[spot_new] MALFUNCTION_CHECK leg=FR trial=4 joint=hip cmd_delta_deg=-4.000 actual_delta_deg=0.000
[spot_new] FR trial 5/6 dir=+ joint=shoulder env=MALFUNCTION
[drone_new] done  FR trial 4/6 frames=24 spot_raw=0.000
[drone_new] progress FR 4/6
[drone_new] start FR trial 5/6 dir=+
[spot_new] FR trial 5/6 done self_can_raw=0.000
[spot_new] MALFUNCTION_CHECK leg=FR trial=5 joint=shoulder cmd_delta_deg=4.000 actual_delta_deg=-0.002
[spot_new] FR trial 6/6 dir=- joint=shoulder env=MALFUNCTION
[drone_new] done  FR trial 5/6 frames=24 spot_raw=0.000
[drone_new] progress FR 5/6
[drone_new] start FR trial 6/6 dir=-
[spot_new] FR trial 6/6 done self_can_raw=0.000
[spot_new] MALFUNCTION_CHECK leg=FR trial=6 joint=shoulder cmd_delta_deg=-4.000 actual_delta_deg=-0.002
[spot_new] ===== RL start =====
[spot_new] RL trial 1/6 dir=+ joint=knee env=NONE
[qwen] start session=drone_20260107_161952 leg=FR trial=6
[qwen] infer start leg=FR spot_can=0.0005527786369235996 drone_can=0.0005550002302794956
[llm] Qwen output parse failed; using fallback
[qwen] done session=drone_20260107_161952 leg=FR (19.5s)
[drone_new] done  FR trial 6/6 frames=24 spot_raw=0.000
[drone_new] progress FR 6/6
[drone_new] start RL trial 1/6 dir=+
[spot_new] RL trial 1/6 done self_can_raw=0.883
[spot_new] RL trial 2/6 dir=- joint=knee env=NONE
[drone_new] done  RL trial 1/6 frames=24 spot_raw=0.883
[drone_new] progress RL 1/6
[drone_new] start RL trial 2/6 dir=-
[spot_new] RL trial 2/6 done self_can_raw=0.883
[spot_new] RL trial 3/6 dir=+ joint=hip env=NONE
[drone_new] done  RL trial 2/6 frames=24 spot_raw=0.883
[drone_new] progress RL 2/6
[drone_new] start RL trial 3/6 dir=+
[spot_new] RL trial 3/6 done self_can_raw=0.843
[spot_new] RL trial 4/6 dir=- joint=hip env=NONE
[drone_new] done  RL trial 3/6 frames=24 spot_raw=0.843
[drone_new] progress RL 3/6
[drone_new] start RL trial 4/6 dir=-
[spot_new] RL trial 4/6 done self_can_raw=0.866
[spot_new] RL trial 5/6 dir=+ joint=shoulder env=NONE
[drone_new] done  RL trial 4/6 frames=24 spot_raw=0.866
[drone_new] progress RL 4/6
[drone_new] start RL trial 5/6 dir=+
[spot_new] RL trial 5/6 done self_can_raw=0.835
[spot_new] RL trial 6/6 dir=- joint=shoulder env=NONE
[drone_new] done  RL trial 5/6 frames=24 spot_raw=0.835
[drone_new] progress RL 5/6
[drone_new] start RL trial 6/6 dir=-
[spot_new] RL trial 6/6 done self_can_raw=0.854
[spot_new] ===== RR start =====
[spot_new] RR trial 1/6 dir=+ joint=knee env=TRAPPED
[drone_new] done  RL trial 6/6 frames=24 spot_raw=0.854
[drone_new] progress RL 6/6
[drone_new] start RR trial 1/6 dir=+
[spot_new] RR trial 1/6 done self_can_raw=0.118
[spot_new] RR trial 2/6 dir=- joint=knee env=TRAPPED
[drone_new] done  RR trial 1/6 frames=24 spot_raw=0.118
[drone_new] progress RR 1/6
[drone_new] start RR trial 2/6 dir=-
[spot_new] RR trial 2/6 done self_can_raw=0.113
[spot_new] RR trial 3/6 dir=+ joint=hip env=TRAPPED
[drone_new] done  RR trial 2/6 frames=24 spot_raw=0.113
[drone_new] progress RR 2/6
[drone_new] start RR trial 3/6 dir=+
[spot_new] RR trial 3/6 done self_can_raw=0.610
[spot_new] RR trial 4/6 dir=- joint=hip env=TRAPPED
[drone_new] done  RR trial 3/6 frames=24 spot_raw=0.610
[drone_new] progress RR 3/6
[drone_new] start RR trial 4/6 dir=-
[spot_new] RR trial 4/6 done self_can_raw=0.109
[spot_new] RR trial 5/6 dir=+ joint=shoulder env=TRAPPED
[drone_new] done  RR trial 4/6 frames=24 spot_raw=0.109
[drone_new] progress RR 4/6
[drone_new] start RR trial 5/6 dir=+
[spot_new] RR trial 5/6 done self_can_raw=0.148
[spot_new] RR trial 6/6 dir=- joint=shoulder env=TRAPPED
[drone_new] done  RR trial 5/6 frames=24 spot_raw=0.148
[drone_new] progress RR 5/6
[drone_new] start RR trial 6/6 dir=-
[spot_new] RR trial 6/6 done self_can_raw=0.639
[qwen] start session=drone_20260107_161952 leg=RR trial=6
[qwen] infer start leg=RR spot_can=0.050171246507599875 drone_can=0.11992453389391751
[llm] Qwen output parse failed; using fallback
[qwen] done session=drone_20260107_161952 leg=RR (22.9s)
[drone_new] done  RR trial 6/6 frames=24 spot_raw=0.639
[drone_new] progress RR 6/6
[drone_new] all trials done -> finalize
[drone_new] saved snapshot: controllers/drone_circular_controller/logs/images/drone_20260107_161952.png
[spot_new] diagnosis complete
INFO: spot_self_diagnosis: Terminating.
INFO: drone_circular_controller: Terminating.
[drone_new] quit simulation
